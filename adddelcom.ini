[script]
n0=on *:text:!addcom *:#: {
n1=  if ($msgtags(mod).key == 1 || $right(#,-1) == $nick) {
n2=    var %r = $read(# $+ commands.txt,ns,$2)
n3=    if (%r) { .msg $chan [ $+ $nick $+ ]: Error, This command $qt($2) is already exist into the database! | return }
n4=    if ([count] isin $3-) {
n5=      set %count. [ $+ [ $2 ] $+ ] . [ $+ [ # ] ] 1
n6=    }
n7=    write # $+ commands.txt $2-
n8=    msg $chan /me + Command $2 has been added to the database!
n9=  }
n10=}
n11=on *:text:!delcom *:#: {
n12=  if ($msgtags(mod).key == 1 || $right(#,-1) == $nick) {
n13=    var %r = $read(# $+ commands.txt,ns,$2)
n14=    if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This command $qt($2) does NOT exist into the database! | return }
n15=    write -dl $+ $readn # $+ commands.txt
n16=    msg $chan /me - Command $2 has been deleted from the database!
n17=  }
n18=}
n19=on *:text:!editcom & *:#: {
n20=  if ($msgtags(mod).key == 1 || $right(#,-1) == $nick)  {
n21=    var %r = $read(# $+ commands.txt,ns,$2)
n22=    if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This command $qt($2) does NOT exist into the database! | return }
n23=    write -l $+ $readn # $+ commands.txt $2-
n24=    msg $chan /me -> Command $2 has been updated!
n25=  }
n26=}
n27=
n28=ON *:TEXT:*:#: {
n29=  var %owner $right(#,-1)
n30=  tokenize 32 $strip($1-,burci)
n31=  if ($read(# $+ commands.txt, nts, $1)) {
n32=    var %com = $v1
n33=    var %com = $replace(%com,@touser@,$iif($2,$2,?),@user@,$nick,@target@,$target)
n34=    if (-ul=sub == $gettok(%com,1,32)) && (($msgtags(mod).key != 1) && ($msgtags(subscriber).key != 1) && ($nick != %owner)) { return }
n35=    if (-ul=reg == $gettok(%com,1,32)) && (($msgtags(mod).key != 1) && (Regular. $+ # !isin $level($nick)) && ($nick != %owner))  { return }
n36=    if (-ul=mod == $gettok(%com,1,32)) && (($msgtags(mod).key != 1) && ($nick != %owner)) { return }
n37=    if (-ul=own == $gettok(%com,1,32)) && ($nick != %owner) { return }
n38=    if ($msgtags(mod).key == 1 || ($nick == %owner)) && ($timer(floodcommod. $+ $1 $+ # )) { return }
n39=    elseif ($msgtags(mod).key != 1) && ($timer(floodcom. $+ $1 $+ #)) { return }
n40=    .timer $+ floodcommod. $+ $1 $+ # 1 5 On
n41=    .timer $+ floodcom. $+ $1 $+ # 1 15 On
n42=    if ([count] isin %com) { 
n43=      var %newcount = $calc(%count. [ $+ [ $1 ] $+ ] . [ $+ [ # ] ] + 1)
n44=      set %count. [ $+ [ $1 ] $+ ] . [ $+ [ # ] ]  %newcount
n45=      var %com $reptok(%com, [count], %newcount, 1, 32) 
n46=      goto cont
n47=    }
n48=    else {
n49=      :cont
n50=      msg $chan $iif(-ul=reg == $gettok(%com,1,32) || -ul=mod == $gettok(%com,1,32) || -ul=own == $gettok(%com,1,32) || -ul=sub == $gettok(%com,1,32),$gettok(%com,2-,32),$gettok(%com,1-,32))
n51=      if ( !commands == $1 ) && ( $msgtags(mod).key == 1 || ($nick == %owner)) { msg # .w $nick A list of commands to setup the bot can be found here: https://goo.gl/o1Otwc }
n52=    }
n53=  }
n54=}
