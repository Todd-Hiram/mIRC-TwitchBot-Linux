[script]
n0=on *:text:!addcom *:#: {
n1=  if ($msgtags(mod).key == 1 || $right(#,-1) == $nick) {
n2=    var %r = $read(# $+ commands.txt,ns,$2)
n3=    if (%r) { .msg $chan [ $+ $nick $+ ]: Error, This command $qt($2) is already exist into the database! | return }
n4=    elseif ($0 == 2) { .msg $chan [ $+ $nick $+ ]: Error, The command you inputted has no message along with it! | return }
n5=    if ([count] isin $3-) {
n6=      set %count. [ $+ [ $2 ] $+ ] . [ $+ [ # ] ] 0
n7=    }
n8=    write # $+ commands.txt $2-
n9=    msg $chan /me + Command $2 has been added to the database!
n10=  }
n11=}
n12=on *:text:!delcom *:#: {
n13=  if ($msgtags(mod).key == 1 || $right(#,-1) == $nick) {
n14=    var %r = $read(# $+ commands.txt,ns,$2)
n15=    if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This command $qt($2) does NOT exist into the database! | return }
n16=    write -dl $+ $readn # $+ commands.txt
n17=    msg $chan /me - Command $2 has been deleted from the database!
n18=  }
n19=}
n20=on *:text:!editcom *:#: {
n21=  if ($msgtags(mod).key == 1 || $right(#,-1) == $nick)  {
n22=    var %r = $read(# $+ commands.txt,ns,$2)
n23=    if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This command $qt($2) does NOT exist into the database! | return }
n24=    elseif  ($0 == 2) { .msg $chan [ $+ $nick $+ ]: Error, The command you inputted has no message along with it! | return }
n25=    write -l $+ $readn # $+ commands.txt $2-
n26=    msg $chan /me -> Command $2 has been updated!
n27=  }
n28=}
n29=
n30=ON *:TEXT:*:#: {
n31=  var %owner $right(#,-1)
n32=  tokenize 32 $strip($1-,burci)
n33=  if ($read(# $+ commands.txt, nts, $1)) {
n34=    var %com = $v1
n35=    var %com = $replace(%com,@touser@,$iif($2,$2,?),@user@,$nick,@target@,$target)
n36=    if (-ul=sub == $gettok(%com,1,32)) && (($msgtags(mod).key != 1) && ($msgtags(subscriber).key != 1) && ($nick != %owner)) { return }
n37=    if (-ul=reg == $gettok(%com,1,32)) && (($msgtags(mod).key != 1) && (Regular. $+ # !isin $level($nick)) && ($nick != %owner))  { return }
n38=    if (-ul=mod == $gettok(%com,1,32)) && (($msgtags(mod).key != 1) && ($nick != %owner)) { return }
n39=    if (-ul=own == $gettok(%com,1,32)) && ($nick != %owner) { return }
n40=    if ($msgtags(mod).key == 1 || ($nick == %owner)) && ($timer(floodcommod. $+ $1 $+ # )) { return }
n41=    elseif ($msgtags(mod).key != 1) && ($timer(floodcom. $+ $1 $+ #)) { return }
n42=    .timer $+ floodcommod. $+ $1 $+ # 1 5 On
n43=    .timer $+ floodcom. $+ $1 $+ # 1 15 On
n44=    if ([count] isin %com) { 
n45=      var %newcount = $calc(%count. [ $+ [ $1 ] $+ ] . [ $+ [ # ] ] + 1)
n46=      set %count. [ $+ [ $1 ] $+ ] . [ $+ [ # ] ]  %newcount
n47=      var %com $reptok(%com, [count], %newcount, 1, 32) 
n48=      goto cont
n49=    }
n50=    else {
n51=      :cont
n52=      msg $chan $iif(-ul=reg == $gettok(%com,1,32) || -ul=mod == $gettok(%com,1,32) || -ul=own == $gettok(%com,1,32) || -ul=sub == $gettok(%com,1,32),$gettok(%com,2-,32),$gettok(%com,1-,32))
n53=      if ( !commands == $1 ) && ( $msgtags(mod).key == 1 || ($nick == %owner)) { msg # .w $nick A list of commands to setup the bot can be found here: https://goo.gl/o1Otwc }
n54=    }
n55=  }
n56=}
