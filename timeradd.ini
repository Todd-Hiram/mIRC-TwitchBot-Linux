on *:text:!timer *:#: {
  if ($msgtags(mod).key == 1) {
    if (add == $2) {
      set %timer.channel. [ $+ [ $me ] ] 
      var %r = $read(# $+ timers.txt,ns,$3)
      if (%r) { .msg $chan [ $+ $nick $+ ] : Error, This timer $qt($3) is already exist into the database! | return }
      if ($4 < 60) { msg # Timer is set too low, please inscrease the amount of seconds the timer should run at. }
      write # $+ timers.txt $3-
      timer $+ $3 $+ $me 0 $4 msg # $5- 
      msg $chan /me + Timer $3 has been added to the database!
    }
    if (del == $2) {
      var %r = $read(# $+ timers.txt,ns,$3)
      if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This timer $qt($3) does NOT exist into the database! | return }
      write -dl $+ $readn # $+ timers.txt
      timer $+ $3 $+ $me off
      msg $chan /me - Timer $3- has been deleted from the database!
    }
    if (edit == $2) {
      var %r = $read(# $+ timers.txt,ns,$3)
      if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This timer $qt($3) does NOT exist into the database! | return }
      write -l $+ $readn # $+ timers.txt $3-
      timer $+ $3 $+ $me 0 $4 msg # $5- 
      msg $chan /me -> Timer $3 has been updated!
    }
    if ($2 == on) {
      var %r = $read(# $+ timers.txt,ns,$3)
      if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This timer $qt($3) does NOT exist into the database! | return }
      elseif ($timer($3) != $null) { msg # Timer $3 is already on! }
      else {
        var %timermessage $read(# $+ timers.txt,ns,$3)
        timer $+ $3 $+ $me 0 $gettok(%timermessage,1,32) msg # $gettok(%timermessage,2-,32)
        msg $chan /me -> Timer $3 has been turned on!
      }
    }
    if ($2 == off) {
      var %r = $read(# $+ timers.txt,ns,$3)
      if (!%r) { .msg $chan [ $+ $nick $+ ]: Error, This timer $qt($3) does NOT exist into the database! | return }
      elseif ($timer($3) == $null) { msg # Timer $3 is already off! }
      else {
        timer $+ $3 $+ $me off
        msg $chan /me -> Timer $3 has been turned off!
      }
    }
  }
}
